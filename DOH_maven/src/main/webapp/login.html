<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>登入</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="vendors/iconfonts/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="vendors/css/vendor.bundle.addons.css">
  <!-- endinject -->
  <!-- plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="css/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" href="images/favicon.png" />
  <style>
  	.content-wrapper {
  		background-image: radial-gradient( circle 484px at 49.4% 19%,  rgba(23,156,214,1) 0%, rgba(52,48,111,1) 100.2% );
  	}
 </style>
</head>

<body>             
  <div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper auth-page">
      <div class="content-wrapper d-flex align-items-center auth theme-one">
        <div class="row w-100">
          <div class="col-lg-4 mx-auto">
            <div class="auto-form-wrapper">
              <form id="loginform" action="LoginServlet" method="post">
              	<input type="hidden" name="method" value="login">
                <div class="form-group">
                  <label class="label">帳號</label>
                  <div class="input-group">
                    <input type="text" id="username" name="username" class="form-control" placeholder="帳號" required>
                    <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-check-circle-outline"></i>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label class="label">密碼</label>
                  <div class="input-group">
                    <input type="password" id="password" name="password" class="form-control" placeholder="*********" required>
                    <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-check-circle-outline"></i>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <button class="btn btn-primary submit-btn btn-block">登入</button>
                  
                </div>                
              </form>
            </div>
            <ul class="auth-footer">
              <li>
                <a href="#">Conditions</a>
              </li>
              <li>
                <a href="#">Help</a>
              </li>
              <li>
                <a href="#">Terms</a>
              </li>
            </ul>
            <p class="footer-text text-center">copyright © 2019 ecomsoftware. All rights reserved.</p>
          </div>
        </div>
      </div>
      <!-- content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>
 	<script src="vendors/js/vendor.bundle.base.js"></script>  
  	<script src="vendors/js/vendor.bundle.addons_mini.js"></script>
  
	<script type="text/javascript">
	$(document).ready(function() {
		
		$('#loginform').submit(function(){
			
		    event.preventDefault();
			var value ={};
			value.userid = $('#username').val();
			value.password = $('#password').val();
			value.method = 'login';
			
			$.ajax({		
				url: $('#loginform').attr('action'),
				type: $('#loginform').attr('method'),
				data: value,
	   			success: function(response) {
	   				//alert(response);
	   				if (response == "access dinied"){
	   					alert('帳號或密碼錯誤');
	   				 	$('#password').val('');
	   					return;
	   				} else {
	   					//alert(response)
	   					window.location.href = "transaction.jsp";
	   				}
	   				
	   			}, 
				error: function (xhr, exception) {
					alert(xhr.responseText);
	   			}
			});
			
		});
	});
	</script>
</body>

</html>